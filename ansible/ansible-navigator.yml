---
ansible-navigator:
  execution-environment:
    enabled: true
    container-engine: docker
    image: quay.io/l-it/ee-wunder-ansible-ubi9:v1.7.0
    pull:
      policy: missing
    container-options:
      - "--user=1000"
      - "--volume=/var/run/docker.sock:/var/run/docker.sock"
      - "--volume=.:/runner/project"
      - "--volume=./.ssh:/runner/project/.ssh"
      - "--workdir=/runner/project"
    environment-variables:
      pass:
        - ANSIBLE_VAULT_PASSWORD_FILE
        - VAULT_TOKEN
      set:
        HOME: /tmp
        SSH_AUTH_SOCK: /runner/project/.ssh/auth-sock
        ANSIBLE_CONFIG: /runner/project/ansible.cfg
        ANSIBLE_LOCAL_TEMP: /tmp
        ANSIBLE_REMOTE_TEMP: /tmp
        ANSIBLE_COLLECTIONS_PATH: "/runner/project/collections-dev:/runner/project/collections:/usr/share/ansible/collections:/usr/share/automation-controller/collections:/runner/collections"
  mode: stdout
  playbook-artifact:
    enable: false
